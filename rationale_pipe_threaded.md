# Local do benchmark

Foi calculado o tempo que leva para:

1.  Transmitir o dado via dprintf;

Isto foi feito na função `task_conveyorN()`.

Note que o tempo para travar e destravar o mutex que guarda os dados
é insignificante em comparação ao tempo de transmissão do pipe, e
no máximo adicionaria 1µs aos dados abaixo, então o mesmo não foi
mensurado.

# Resultados

Esta versão do método via pipe separa os scanf() leitores em duas threads
separadas para não haver o bloqueio ocorrente no outro método.

A velocidade de I/O é muito parecida com a do outro método via pipe: 
a média é de 23µs; mediana de 16.5µs; moda bimodal de 37µs e 15µs; 
desvio padrão de 11µs, máximo de 62µs, minimo de 8µs.

É possivel observar a oscilação de causada pelas threads de leitura 
neste exemplo pela forma da moda ser bimodal, que também aconteceu com o 
método de threads.

# Método

O benchmark foi realizado em um computador de 8GiB RAM DDR3, processador
Pentium G3220 (2 núcleos) @ 2.9GHz, em sistema nativo Debian 12 Bookworm,
Linux 6.6.13, GCC 12.2.0, glibc 2.36. O benchmark for rodado por dez
minutos. Foi utilizado o `clock_gettime()`, 900 pontos foram gerados.

O programa foi compilado da seguinte forma:

```
$ gcc -std=c11 -Wall -Wextra -DTIMING -o conveyor_pipe_threaded conveyor_pipe_threaded.c conveyor_shared.c -lpthread -lrt
```

# Dados Brutos

```
1: 0.000040922
2: 0.000038286
2: 0.000040900
1: 0.000051354
2: 0.000011795
2: 0.000016582
1: 0.000013854
2: 0.000008042
2: 0.000016406
1: 0.000017528
2: 0.000009660
2: 0.000018139
1: 0.000055111
2: 0.000018666
2: 0.000017276
1: 0.000048342
2: 0.000022983
2: 0.000014134
1: 0.000037853
2: 0.000022131
2: 0.000040949
1: 0.000038213
2: 0.000034926
2: 0.000016778
1: 0.000037652
2: 0.000032706
2: 0.000041335
1: 0.000013967
2: 0.000010557
2: 0.000017118
1: 0.000014202
2: 0.000035101
2: 0.000016805
1: 0.000037105
2: 0.000032922
2: 0.000016821
1: 0.000036986
2: 0.000032785
2: 0.000017330
1: 0.000037286
2: 0.000034315
2: 0.000042468
1: 0.000014587
2: 0.000010486
2: 0.000016705
1: 0.000036991
2: 0.000032866
2: 0.000017268
1: 0.000037486
2: 0.000032725
2: 0.000021954
1: 0.000014098
2: 0.000010994
2: 0.000039412
1: 0.000013375
2: 0.000009740
2: 0.000017424
1: 0.000038168
2: 0.000033026
2: 0.000040433
1: 0.000037352
2: 0.000032685
2: 0.000016527
1: 0.000037692
2: 0.000027428
2: 0.000016706
1: 0.000037046
2: 0.000033302
2: 0.000016469
1: 0.000038048
2: 0.000010356
2: 0.000016738
1: 0.000037988
2: 0.000010366
2: 0.000016839
1: 0.000038224
2: 0.000010173
2: 0.000016659
1: 0.000037972
2: 0.000010354
2: 0.000017001
1: 0.000037838
2: 0.000010310
2: 0.000016719
1: 0.000014083
2: 0.000010319
2: 0.000016603
1: 0.000037707
2: 0.000032621
2: 0.000016414
1: 0.000038043
2: 0.000032821
2: 0.000017031
1: 0.000037747
2: 0.000032334
2: 0.000016580
1: 0.000037622
2: 0.000032741
2: 0.000016473
1: 0.000013810
2: 0.000010329
2: 0.000016747
1: 0.000037456
2: 0.000032215
2: 0.000016829
1: 0.000013829
2: 0.000010384
2: 0.000016636
1: 0.000037507
2: 0.000033232
2: 0.000016793
1: 0.000014517
2: 0.000033122
2: 0.000017373
1: 0.000038143
2: 0.000033623
2: 0.000016383
1: 0.000038043
2: 0.000044442
2: 0.000040734
1: 0.000037461
2: 0.000032576
2: 0.000016696
1: 0.000038299
2: 0.000032821
2: 0.000016692
1: 0.000037742
2: 0.000032751
2: 0.000016641
1: 0.000037963
2: 0.000033216
2: 0.000017236
1: 0.000037397
2: 0.000032921
2: 0.000016868
1: 0.000037487
2: 0.000010728
2: 0.000017008
1: 0.000038158
2: 0.000010706
2: 0.000016712
1: 0.000037592
2: 0.000010585
2: 0.000016448
1: 0.000038344
2: 0.000013579
2: 0.000017164
1: 0.000038098
2: 0.000010262
2: 0.000016543
1: 0.000037812
2: 0.000010522
2: 0.000040789
1: 0.000038103
2: 0.000010448
2: 0.000016941
1: 0.000037512
2: 0.000010411
2: 0.000016880
1: 0.000013815
2: 0.000010278
2: 0.000016775
1: 0.000013679
2: 0.000010388
2: 0.000016895
1: 0.000013575
2: 0.000032952
2: 0.000016476
1: 0.000014076
2: 0.000033041
2: 0.000016428
1: 0.000037817
2: 0.000032530
2: 0.000016907
1: 0.000038123
2: 0.000032871
2: 0.000016334
1: 0.000037657
2: 0.000044112
2: 0.000017232
1: 0.000036985
2: 0.000033302
2: 0.000040459
1: 0.000037652
2: 0.000032806
2: 0.000040795
1: 0.000037396
2: 0.000033438
2: 0.000040894
1: 0.000037943
2: 0.000032685
2: 0.000017448
1: 0.000037362
2: 0.000044327
2: 0.000016809
1: 0.000037381
2: 0.000043971
2: 0.000041942
1: 0.000013542
2: 0.000042924
2: 0.000017220
1: 0.000013720
2: 0.000013464
2: 0.000017076
1: 0.000014175
2: 0.000014105
2: 0.000041401
1: 0.000014127
2: 0.000014303
2: 0.000016885
1: 0.000049314
2: 0.000042854
2: 0.000017373
1: 0.000038790
2: 0.000013822
2: 0.000016994
1: 0.000038218
2: 0.000014153
2: 0.000017369
1: 0.000037341
2: 0.000014172
2: 0.000041325
1: 0.000013711
2: 0.000017180
2: 0.000041301
1: 0.000013855
2: 0.000015827
2: 0.000042668
1: 0.000013620
2: 0.000017066
2: 0.000042077
1: 0.000013919
2: 0.000017675
2: 0.000017392
1: 0.000013921
2: 0.000019456
2: 0.000042568
1: 0.000037943
2: 0.000016586
2: 0.000017302
1: 0.000013573
2: 0.000014841
2: 0.000016580
1: 0.000013747
2: 0.000016750
2: 0.000042178
1: 0.000029882
2: 0.000015606
2: 0.000015434
1: 0.000013996
2: 0.000018018
2: 0.000017090
1: 0.000037557
2: 0.000036401
2: 0.000016895
1: 0.000037025
2: 0.000015707
2: 0.000016788
1: 0.000013805
2: 0.000050478
2: 0.000041491
1: 0.000037306
2: 0.000038178
2: 0.000016945
1: 0.000037727
2: 0.000014709
2: 0.000016274
1: 0.000037677
2: 0.000019056
2: 0.000017260
1: 0.000036820
2: 0.000014786
2: 0.000016795
1: 0.000037251
2: 0.000015229
2: 0.000016749
1: 0.000037757
2: 0.000047004
2: 0.000017098
1: 0.000037662
2: 0.000015268
2: 0.000016519
1: 0.000038148
2: 0.000015425
2: 0.000016701
1: 0.000037712
2: 0.000014742
2: 0.000016597
1: 0.000037411
2: 0.000014944
2: 0.000016657
1: 0.000037912
2: 0.000014487
2: 0.000016962
1: 0.000037446
2: 0.000014874
2: 0.000016849
1: 0.000038068
2: 0.000015412
2: 0.000017020
1: 0.000037040
2: 0.000015583
2: 0.000041109
1: 0.000037025
2: 0.000014429
2: 0.000040128
1: 0.000036930
2: 0.000015022
2: 0.000040358
1: 0.000037797
2: 0.000015169
2: 0.000040628
1: 0.000038299
2: 0.000015512
2: 0.000016100
1: 0.000013563
2: 0.000015097
2: 0.000039907
1: 0.000014133
2: 0.000014569
2: 0.000039857
1: 0.000013598
2: 0.000015127
2: 0.000039852
1: 0.000013972
2: 0.000015252
2: 0.000039977
1: 0.000013882
2: 0.000015172
2: 0.000040153
1: 0.000013554
2: 0.000018792
2: 0.000041080
1: 0.000013838
2: 0.000017451
2: 0.000017199
1: 0.000012955
2: 0.000014758
2: 0.000016398
1: 0.000037717
2: 0.000015115
2: 0.000016564
1: 0.000037115
2: 0.000015270
2: 0.000016069
1: 0.000037287
2: 0.000015144
2: 0.000016029
1: 0.000037812
2: 0.000015391
2: 0.000016023
1: 0.000037291
2: 0.000015470
2: 0.000016292
1: 0.000037046
2: 0.000015270
2: 0.000016288
1: 0.000037246
2: 0.000015447
2: 0.000049349
1: 0.000013577
2: 0.000015683
2: 0.000016493
1: 0.000037602
2: 0.000015873
2: 0.000016157
1: 0.000037221
2: 0.000015496
2: 0.000016191
1: 0.000037482
2: 0.000015421
2: 0.000016086
1: 0.000037652
2: 0.000015974
2: 0.000015915
1: 0.000037497
2: 0.000015034
2: 0.000015719
1: 0.000037431
2: 0.000015378
2: 0.000016238
1: 0.000037421
2: 0.000016079
2: 0.000016199
1: 0.000037055
2: 0.000015293
2: 0.000016733
1: 0.000037096
2: 0.000014836
2: 0.000016165
1: 0.000014225
2: 0.000014974
2: 0.000016710
1: 0.000013745
2: 0.000015465
2: 0.000016585
1: 0.000013393
2: 0.000015298
2: 0.000016013
1: 0.000013681
2: 0.000015306
2: 0.000016280
1: 0.000013489
2: 0.000018572
2: 0.000016690
1: 0.000013669
2: 0.000015292
2: 0.000040008
1: 0.000014225
2: 0.000015475
2: 0.000016201
1: 0.000014081
2: 0.000015713
2: 0.000016381
1: 0.000013547
2: 0.000015590
2: 0.000016432
1: 0.000014105
2: 0.000016148
2: 0.000016526
1: 0.000014211
2: 0.000015750
2: 0.000016381
1: 0.000013667
2: 0.000016125
2: 0.000015742
1: 0.000036064
2: 0.000016227
2: 0.000015985
1: 0.000037632
2: 0.000016111
2: 0.000016519
1: 0.000037862
2: 0.000015727
2: 0.000039626
1: 0.000037708
2: 0.000015366
2: 0.000040629
1: 0.000037567
2: 0.000019665
2: 0.000016739
1: 0.000037216
2: 0.000015036
2: 0.000016980
1: 0.000037356
2: 0.000015475
2: 0.000016670
1: 0.000037447
2: 0.000015669
2: 0.000016617
1: 0.000037231
2: 0.000015011
2: 0.000016483
1: 0.000037411
2: 0.000015223
2: 0.000016879
1: 0.000037527
2: 0.000015346
2: 0.000016711
1: 0.000038348
2: 0.000015273
2: 0.000016479
1: 0.000037406
2: 0.000038213
2: 0.000016567
1: 0.000037447
2: 0.000015110
2: 0.000016228
1: 0.000038163
2: 0.000015240
2: 0.000016831
1: 0.000014029
2: 0.000015078
2: 0.000040558
1: 0.000013612
2: 0.000015338
2: 0.000016659
1: 0.000013947
2: 0.000015913
2: 0.000016943
1: 0.000013737
2: 0.000015348
2: 0.000016773
1: 0.000013776
2: 0.000015281
2: 0.000017119
1: 0.000013586
2: 0.000015085
2: 0.000016691
1: 0.000013994
2: 0.000015429
2: 0.000016637
1: 0.000013791
2: 0.000015995
2: 0.000016910
1: 0.000013593
2: 0.000015299
2: 0.000016608
1: 0.000037441
2: 0.000015560
2: 0.000041365
1: 0.000013770
2: 0.000015686
2: 0.000016795
1: 0.000037221
2: 0.000015326
2: 0.000016828
1: 0.000037231
2: 0.000015704
2: 0.000017139
1: 0.000037326
2: 0.000015481
2: 0.000040369
1: 0.000037381
2: 0.000015942
2: 0.000016715
1: 0.000035457
2: 0.000015181
2: 0.000040995
1: 0.000037261
2: 0.000015086
2: 0.000020750
1: 0.000037336
2: 0.000015513
2: 0.000040569
1: 0.000036765
2: 0.000015800
2: 0.000016513
1: 0.000036985
2: 0.000039090
2: 0.000016713
1: 0.000037216
2: 0.000038976
2: 0.000016737
1: 0.000013356
2: 0.000041060
2: 0.000040559
1: 0.000037321
2: 0.000015529
2: 0.000017350
1: 0.000037276
2: 0.000015146
2: 0.000016954
1: 0.000037252
2: 0.000016206
2: 0.000017173
1: 0.000037151
2: 0.000015619
2: 0.000016737
1: 0.000013714
2: 0.000015346
2: 0.000017160
1: 0.000014108
2: 0.000015656
2: 0.000016610
1: 0.000013430
2: 0.000015352
2: 0.000016875
1: 0.000013950
2: 0.000015147
2: 0.000016752
1: 0.000013631
2: 0.000039661
2: 0.000016608
1: 0.000013674
2: 0.000015164
2: 0.000016848
1: 0.000013850
2: 0.000015209
2: 0.000016856
1: 0.000013578
2: 0.000015477
2: 0.000039816
1: 0.000013555
2: 0.000015846
2: 0.000041205
1: 0.000013878
2: 0.000015516
2: 0.000016647
1: 0.000013775
2: 0.000015491
2: 0.000041892
1: 0.000037271
2: 0.000015303
2: 0.000040429
1: 0.000037090
2: 0.000015727
2: 0.000016898
1: 0.000037412
2: 0.000015389
2: 0.000016703
1: 0.000037286
2: 0.000015291
2: 0.000041024
1: 0.000037015
2: 0.000015779
2: 0.000041256
1: 0.000037016
2: 0.000039486
2: 0.000041846
1: 0.000036896
2: 0.000014993
2: 0.000016911
1: 0.000037326
2: 0.000015291
2: 0.000016464
1: 0.000037301
2: 0.000015457
2: 0.000016469
1: 0.000036960
2: 0.000015346
2: 0.000016596
1: 0.000037452
2: 0.000015445
2: 0.000016721
1: 0.000062680
2: 0.000015552
2: 0.000016888
1: 0.000037060
2: 0.000015330
2: 0.000016673
1: 0.000037627
2: 0.000015708
2: 0.000017021
1: 0.000037897
2: 0.000015390
2: 0.000017049
1: 0.000013593
2: 0.000015531
2: 0.000016960
1: 0.000013462
2: 0.000015352
2: 0.000017092
1: 0.000013785
2: 0.000015623
2: 0.000017044
1: 0.000037211
2: 0.000015415
2: 0.000041722
1: 0.000014131
2: 0.000039642
2: 0.000017144
1: 0.000013655
2: 0.000014865
2: 0.000016765
1: 0.000014928
2: 0.000015963
2: 0.000016749
1: 0.000016482
2: 0.000015264
2: 0.000016740
1: 0.000013955
2: 0.000015171
2: 0.000016967
1: 0.000013665
2: 0.000015489
2: 0.000016758
1: 0.000013987
2: 0.000015119
2: 0.000016679
1: 0.000014007
2: 0.000015416
2: 0.000016796
1: 0.000013556
2: 0.000015111
2: 0.000016850
1: 0.000013798
2: 0.000015397
2: 0.000041045
1: 0.000017200
2: 0.000015171
2: 0.000027447
1: 0.000014288
2: 0.000039682
2: 0.000016911
1: 0.000013547
2: 0.000015009
2: 0.000016446
1: 0.000013887
2: 0.000019120
2: 0.000016878
1: 0.000014211
2: 0.000023080
2: 0.000016657
1: 0.000013616
2: 0.000015125
2: 0.000016577
1: 0.000013638
2: 0.000039361
2: 0.000016848
1: 0.000014006
2: 0.000015140
2: 0.000016728
1: 0.000013760
2: 0.000015171
2: 0.000016746
1: 0.000012811
2: 0.000015313
2: 0.000016529
1: 0.000013666
2: 0.000015222
2: 0.000040152
1: 0.000014182
2: 0.000038860
2: 0.000040498
1: 0.000013888
2: 0.000014998
2: 0.000039983
1: 0.000013709
2: 0.000015119
2: 0.000042528
1: 0.000037532
2: 0.000015232
2: 0.000040178
1: 0.000013729
2: 0.000015286
2: 0.000040864
1: 0.000013677
2: 0.000039020
2: 0.000040383
1: 0.000013650
2: 0.000045771
2: 0.000040634
1: 0.000013691
2: 0.000015540
2: 0.000041812
1: 0.000013662
2: 0.000015806
2: 0.000040228
1: 0.000013781
2: 0.000039592
2: 0.000040784
1: 0.000013374
2: 0.000014974
2: 0.000041301
1: 0.000014148
2: 0.000015747
2: 0.000017033
1: 0.000013738
2: 0.000015148
2: 0.000017049
1: 0.000013797
2: 0.000055286
2: 0.000016668
1: 0.000013673
2: 0.000015347
2: 0.000016568
1: 0.000013681
2: 0.000015655
2: 0.000016828
1: 0.000013450
2: 0.000015299
2: 0.000016496
1: 0.000013705
2: 0.000015468
2: 0.000016689
1: 0.000013781
2: 0.000039511
2: 0.000016498
1: 0.000013798
2: 0.000014995
2: 0.000016816
1: 0.000013277
2: 0.000015324
2: 0.000016538
1: 0.000013664
2: 0.000015447
2: 0.000017200
1: 0.000013963
2: 0.000018710
2: 0.000040423
1: 0.000013721
2: 0.000040328
2: 0.000040689
1: 0.000013872
2: 0.000015620
2: 0.000040424
1: 0.000013763
2: 0.000015243
2: 0.000040118
1: 0.000037000
2: 0.000038930
2: 0.000044949
1: 0.000013740
2: 0.000015125
2: 0.000016761
1: 0.000012775
2: 0.000015424
2: 0.000040309
1: 0.000013987
2: 0.000039126
2: 0.000040714
1: 0.000013574
2: 0.000015440
2: 0.000040283
1: 0.000013510
2: 0.000038955
2: 0.000040920
1: 0.000036835
2: 0.000015613
2: 0.000022245
1: 0.000037231
2: 0.000015685
2: 0.000040138
1: 0.000013457
2: 0.000039301
2: 0.000016214
1: 0.000037506
2: 0.000015742
2: 0.000016270
1: 0.000013492
2: 0.000015600
2: 0.000016094
1: 0.000013473
2: 0.000015294
2: 0.000016037
1: 0.000013502
2: 0.000016008
2: 0.000015927
1: 0.000013524
2: 0.000015338
2: 0.000015967
1: 0.000013394
2: 0.000015199
2: 0.000040093
1: 0.000013713
2: 0.000039265
2: 0.000040138
1: 0.000013757
2: 0.000015186
2: 0.000039962
1: 0.000013620
2: 0.000015198
2: 0.000039732
1: 0.000013819
2: 0.000015385
2: 0.000039696
1: 0.000013488
2: 0.000015418
2: 0.000040438
1: 0.000037437
2: 0.000038775
2: 0.000040259
1: 0.000013737
2: 0.000039746
2: 0.000040509
1: 0.000013286
2: 0.000015449
2: 0.000039977
1: 0.000013678
2: 0.000039637
2: 0.000039587
1: 0.000013573
2: 0.000039467
2: 0.000039837
1: 0.000013733
2: 0.000015655
2: 0.000040679
1: 0.000013865
2: 0.000039536
2: 0.000040278
1: 0.000013693
2: 0.000015122
2: 0.000017405
1: 0.000013603
2: 0.000014857
2: 0.000015929
1: 0.000013778
2: 0.000015293
2: 0.000016304
1: 0.000013923
2: 0.000015331
2: 0.000016361
1: 0.000013713
2: 0.000015366
2: 0.000016016
1: 0.000013007
2: 0.000015376
2: 0.000015552
1: 0.000014281
2: 0.000039496
2: 0.000015855
1: 0.000013691
2: 0.000015617
2: 0.000016160
1: 0.000013595
2: 0.000015938
2: 0.000016495
1: 0.000013408
2: 0.000015363
2: 0.000039481
1: 0.000013662
2: 0.000015112
2: 0.000039456
1: 0.000013585
2: 0.000039015
2: 0.000039777
1: 0.000061934
2: 0.000038990
2: 0.000039396
```
