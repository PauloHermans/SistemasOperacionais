# Local do benchmark

Foi calculado o tempo que leva para:

1.  Mandar a mensagem via WriteFile();

Isto foi feito no main dos clientes.

# Resultados

Cristo Jesus.

Primeiramente, como no equivalente `pipe_problematic`, a task mais
lenta trava a mais rapida.

Exceto que ambas serem processos separados influencia o cache de
um jeito que aparentemente faz ele evaporar, deixar de existir.

A task dois *trava* por um segundo a cada iteração.

A task um, a mensurada nas estatisticas abaixo, tem uma performance
grotesca: média de 2ms, desvio padrão de 5ms, máximo de 15ms, 
mínimo de 7µs.

Sim, *milli* segundos.

Não consegui criar nenhum gráfico satisfatório baseado nestes dados
absurdos, porém vale ressaltar que a média de 2ms vem da oscilação de
4/5 timings que duram ~20-700µs, e 1/5 timings que duram 15ms.

# Método

O benchmark foi realizado em um laptop de 8GiB RAM DDR4, processador
Core i3-1115G4 (2 núcleos, 4 lógicos) @ 3.00GHz, em sistema Windows 11 23H2.
O benchmark for rodade por dez minutos. Foi utilizado o `timespec_get()`,
296 pontos foram gerados.

O programa foi compilado no Linux via MinGW da seguinte forma:

```
$ x86_64-w64-mingw32-gcc -std=c11 -Wall -Wextra -DTIMING -DWINDOWS -D_UCRT -o windows_pipe_server_client1 client_server/conveyor1.c conveyor_shared.c conveyor_shared.h -lpthread -lucrt -static -I.
$ x86_64-w64-mingw32-gcc -std=c11 -Wall -Wextra -DTIMING -DWINDOWS -D_UCRT -o windows_pipe_server_client2 client_server/conveyor2.c conveyor_shared.c conveyor_shared.h -lpthread -lucrt -static -I.
$ x86_64-w64-mingw32-gcc -std=c11 -Wall -Wextra -DTIMING -DWINDOWS -D_UCRT -o windows_pipe_server_srv client_server/server.c conveyor_shared.c conveyor_shared.h -lpthread -lucrt -static -I.
```

# Dados Brutos

Estes dados correspondem à task um. A os dados da task dois são irrelevantes.

```
0.000007400
0.000024900
0.000146000
0.000013700
0.000066300
0.015645500
0.000026900
0.015670900
0.000083800
0.000024400
0.000126300
0.015701000
0.000067600
0.000113600
0.000028700
0.000014700
0.000162400
0.000757700
0.000034400
0.000094800
0.015735700
0.000031300
0.000067000
0.000082600
0.000119500
0.000027800
0.015693000
0.000042800
0.000157800
0.000069100
0.015712900
0.015811800
0.000144400
0.000104600
0.000028900
0.015789200
0.015611100
0.000090400
0.000165100
0.015723300
0.000029100
0.005226000
0.000025500
0.015617300
0.000162200
0.000237300
0.000090500
0.000063900
0.000035100
0.000162400
0.015658700
0.000148200
0.000083100
0.000084800
0.000028100
0.000027300
0.015622600
0.000062500
0.015725700
0.000109000
0.015659800
0.000027100
0.000155500
0.000148600
0.000086300
0.000157100
0.000148000
0.000174300
0.009135000
0.015618900
0.000169800
0.000068800
0.000174900
0.000135100
0.000027600
0.000030900
0.000024600
0.000093800
0.015707400
0.000154500
0.000022300
0.000083200
0.000033100
0.000163500
0.000102400
0.000087500
0.000089600
0.000028700
0.000034100
0.000027500
0.000030000
0.000159300
0.000068400
0.015683000
0.002642600
0.000072700
0.000146000
0.000028600
0.000161000
0.015715400
0.000156700
0.000025000
0.000022100
0.015641700
0.000164700
0.000135200
0.000100000
0.000087700
0.015748700
0.000021500
0.000034300
0.015654100
0.000065900
0.000029600
0.000021400
0.000029600
0.000085300
0.000024300
0.000118700
0.000155400
0.000029300
0.015635100
0.000029500
0.000030800
0.000113300
0.015696600
0.000091300
0.000154400
0.000024400
0.015744400
0.000024700
0.000116600
0.015561200
0.000031700
0.000135400
0.000080300
0.000027400
0.000163700
0.000061300
0.015732800
0.015654300
0.000028900
0.000029000
0.000029400
0.000043200
0.015585900
0.000030000
0.000024700
0.000025600
0.000021900
0.000123600
0.000107800
0.000159500
0.000026400
0.000023600
0.000161500
0.000027300
0.000106000
0.000026500
0.000023200
0.000066200
0.000160100
0.015867800
0.015702700
0.000025800
0.000012400
0.015703800
0.000029300
0.000253300
0.000024800
0.000020100
0.000188900
0.000024600
0.000083000
0.000028600
0.000029900
0.000026600
0.000094700
0.000026000
0.000028600
0.000029100
0.000026100
0.000026300
0.000094600
0.000026200
0.000035700
0.015654500
0.000156900
0.000028600
0.000081700
0.000091000
0.000026000
0.015634200
0.015738800
0.000013400
0.000240300
0.000091700
0.000092500
0.000027200
0.000168400
0.015729700
0.006243900
0.000157800
0.015729700
0.000148000
0.000102200
0.000130400
0.000024900
0.000024500
0.000151200
0.015577900
0.000025700
0.000161800
0.000026200
0.000096400
0.000023000
0.000020100
0.000022500
0.000076200
0.000008000
0.000088400
0.000089000
0.000078500
0.015702200
0.000095400
0.000152300
0.000014000
0.000023100
0.000083800
0.015696300
0.015702800
0.015677600
0.000026700
0.015602600
0.000091200
0.000024200
0.000032600
0.000157600
0.000125700
0.015812700
0.000044000
0.000027700
0.000027900
0.000029700
0.000163100
0.000028300
0.000155700
0.000128800
0.000019800
0.015721500
0.000091700
0.000019200
0.000092100
0.000085300
0.000067600
0.000162400
0.000029100
0.000028000
0.000145700
0.000158100
0.015670600
0.000150500
0.000025300
0.000053900
0.015720600
0.000027500
0.000152600
0.015721000
0.000134700
0.000073700
0.000020600
0.000169300
0.000161200
0.000024000
0.015840700
0.015848100
0.002295500
0.000028200
0.000083500
0.000025500
0.000129200
0.000156300
0.000158400
0.010203900
0.000161900
0.000027900
0.000085200
0.015705500
0.000094700
0.000104600
0.000143500
0.000091200
0.015698400
0.000132600
0.000010600
0.000208400
```
